- var montegasppaArticles = new Array
- var kodumaroArticles = new Array
- var articles = new Array

each yearDir, yearSlug in public.montegasppa
  if yearDir
    each monthDir, monthSlug in yearDir
      if monthDir._data
        each page, slug in monthDir._data
          if (!page.hidden)
            - var article = {}
            - article.url = public.montegasppa._data.blog.url + yearSlug + "/" + monthSlug + "/" + slug + ".html"
            - article.title = "Reflexões… :: " + page.title
            - article.content = page.content
            - article.release = page.release
            - montegasppaArticles.push(article)
- montegasppaArticles.sort((a, b) => new Date(b.release) - new Date(a.release))

each yearDir, yearSlug in public.kodumaro
  if yearDir
    each monthDir, monthSlug in yearDir
      if monthDir._data
        each page, slug in monthDir._data
          if (!page.hidden)
            - var article = {}
            - article.url = public.kodumaro._data.blog.url + yearSlug + "/" + monthSlug + "/" + slug + ".html"
            - article.title = public.kodumaro._data.blog.title + " :: " + page.title
            - article.content = page.content
            - article.release = page.release
            - kodumaroArticles.push(article)
- kodumaroArticles.sort((a, b) => new Date(b.release) - new Date(a.release))

- for(var i = 0; i < 5; i++)
  if montegasppaArticles[i]
    - articles.push(montegasppaArticles[i])
  if kodumaroArticles[i]
    - articles.push(kodumaroArticles[i])

each article in articles
  a(class=["col-md-4", "mg-highlighted"] href=article.url role="button")
    div(class=["panel", "panel-default"])
      .panel-heading
        h3.mg-title!= article.title
      .panel-body
        p.lead!= article.content
