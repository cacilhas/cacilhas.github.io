- var tags = {}

each yearDir, yearSlug in public.montegasppa
  if yearDir
    each monthDir, monthSlug in yearDir
      if monthDir._data
        each page, slug in monthDir._data
          - var url = "montegasppa/" + yearSlug + "/" + monthSlug + "/" + slug + ".html"
          each tag in page.tags
            if tags[tag]
              - tags[tag].pages.push({url: url, title: "Reflexões… :: " + page.title})
            else
              - tags[tag] = {name: tag, pages: [{url: url, title: "Reflexões… :: " + page.title}]}

each yearDir, yearSlug in public.kodumaro
  if yearDir
    each monthDir, monthSlug in yearDir
      if monthDir._data
        each page, slug in monthDir._data
          - var url = "kodumaro/" + yearSlug + "/" + monthSlug + "/" + slug + ".html"
          each tag in page.tags
            if tags[tag]
              - tags[tag].pages.push({url: url, title: "Kodumaro :: " + page.title})
            else
              - tags[tag] = {name: tag, pages: [{url: url, title: "Kodumaro :: " + page.title}]}

div.col-md-4
  div.list-group
    h3(class=["mg-title", "list-group-item", "active"]): em Tags
    ul.list-group
      each tag in tags
        li.list-group-item
          select.list-group-item(onchange="window.location = this.value; return true;"
                                 style={width: "100%"})
            option(selected=true)!= tag.name
            each page in tag.pages
              option(value=page.url)!= page.title
